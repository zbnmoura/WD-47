"use strict";var os=require("os"),fs=require("fs"),parse=require("parse-passwd");function homedir(){if("win32"===process.platform)return process.env.USERPROFILE?process.env.USERPROFILE:process.env.HOMEDRIVE&&process.env.HOMEPATH?process.env.HOMEDRIVE+process.env.HOMEPATH:process.env.HOME?process.env.HOME:null;if(process.env.HOME)return process.env.HOME;var e=tryReadFileSync("/etc/passwd"),r=find(parse(e),getuid());if(r)return r;var s=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return s?"darwin"===process.platform?"/Users/"+s:"/home/"+s:null}function find(e,r){for(var s=e.length,o=0;o<s;o++)if(+e[o].uid===r)return e[o].homedir}function getuid(){return"function"==typeof process.geteuid?process.geteuid():process.getuid()}function tryReadFileSync(e){try{return fs.readFileSync(e,"utf8")}catch(e){return""}}void 0===os.homedir?module.exports=homedir:module.exports=os.homedir;