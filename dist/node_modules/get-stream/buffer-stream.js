"use strict";var PassThrough=require("stream").PassThrough;module.exports=function(e){var n=(e=Object.assign({},e)).array,r=e.encoding,t="buffer"===r,u=!1;n?u=!(r||t):r=r||"utf8",t&&(r=null);var o=0,a=[],s=new PassThrough({objectMode:u});return r&&s.setEncoding(r),s.on("data",function(e){a.push(e),u?o=a.length:o+=e.length}),s.getBufferedValue=function(){return n?a:t?Buffer.concat(a,o):a.join("")},s.getBufferedLength=function(){return o},s};