"use strict";function stringify(i,r,e,n){return JSON.stringify(i,serializer(r,n),e)}function serializer(i,r){var e=[],n=[];return null==r&&(r=function(i,r){return e[0]===r?"[Circular ~]":"[Circular ~."+n.slice(0,e.indexOf(r)).join(".")+"]"}),function(s,t){if(e.length>0){var l=e.indexOf(this);~l?e.splice(l+1):e.push(this),~l?n.splice(l,1/0,s):n.push(s),~e.indexOf(t)&&(t=r.call(this,s,t))}else e.push(t);return null==i?t:i.call(this,s,t)}}exports=module.exports=stringify,exports.getSerialize=serializer;