"use strict";var EmitterSteward=function(t){this.currentEmitter=null,this.counter=0,this.debug=function(e,r){t.emit("msg:debug",{msg:e,vars:r})},this.setWatcher(1e3)};EmitterSteward.prototype.setWatcher=function(t){var e=this;this._int=setInterval(function(){e.currentEmitter=null},t)},EmitterSteward.prototype.destroy=function(){if(this._int)return clearInterval(this._int)},EmitterSteward.prototype.valid=function(t){var e=this.counter+=1,r=this.debug;return this.currentEmitter?t===this.currentEmitter?(r("%s:Same emitter, allowing event",e),!0):(r("%s:Emitter set, but a different one, refusing",e),!1):(this.currentEmitter=t,r("%s:Setting current emitter:",e),!0)},module.exports=EmitterSteward;