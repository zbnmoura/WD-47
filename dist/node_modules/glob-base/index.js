"use strict";var path=require("path"),parent=require("glob-parent"),isGlob=require("is-glob");function dirname(r){return"/"===r.slice(-1)?r:path.dirname(r)}module.exports=function(r){if("string"!=typeof r)throw new TypeError("glob-base expects a string.");var b={};return b.base=parent(r),b.isGlob=isGlob(r),"."!==b.base?(b.glob=r.substr(b.base.length),"/"===b.glob.charAt(0)&&(b.glob=b.glob.substr(1))):b.glob=r,b.isGlob||(b.base=dirname(r),b.glob="."!==b.base?r.substr(b.base.length):r),"./"===b.glob.substr(0,2)&&(b.glob=b.glob.substr(2)),"/"===b.glob.charAt(0)&&(b.glob=b.glob.substr(1)),b};