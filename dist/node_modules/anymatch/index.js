"use strict";var micromatch=require("micromatch"),normalize=require("normalize-path"),path=require("path"),arrify=function(r){return null==r?[]:Array.isArray(r)?r:[r]},anymatch=function r(t,e,a,n,c){if(t=arrify(t),e=arrify(e),1===arguments.length)return r.bind(null,t.map(function(r){return"string"==typeof r&&"!"!==r[0]?micromatch.matcher(r):r}));n=n||0;var i,o,u=e[0],l=!1,s=-1;var m=t,p=m.reduce(function(r,e,a){return"string"==typeof e&&"!"===e[0]&&(m===t&&(m=m.slice()),m[a]=null,r.push(e.substr(1))),r},[]);return p.length&&micromatch.any(u,p)||("\\"===path.sep&&"string"==typeof u&&(i=(i=normalize(u))===u?null:i)&&(o=[i].concat(e.slice(1))),l=m.slice(n,c).some(function(r,t){var a;switch(Object.prototype.toString.call(r)){case"[object String]":a=(a=u===r||i&&i===r)||micromatch.isMatch(u,r);break;case"[object RegExp]":a=r.test(u)||i&&r.test(i);break;case"[object Function]":a=(a=r.apply(null,e))||o&&r.apply(null,o);break;default:a=!1}return a&&(s=t+n),a})),!0===a?s:l};module.exports=anymatch;