"use strict";var fs=require("fs"),path=require("path"),isGlob=require("is-glob"),resolveDir=require("resolve-dir"),detect=require("detect-file"),mm=require("micromatch");function lookup(r,e,t){for(var i,n=e.length,o=-1;++o<n;)if(i=isGlob(e[o])?matchFile(r,e[o],t):findFile(r,e[o],t))return i;var u=path.dirname(r);return u===r?null:lookup(u,e,t)}function matchFile(r,e,t){for(var i=mm.matcher(e,t),n=tryReaddirSync(r),o=n.length,u=-1;++u<o;){var a=n[u],l=path.join(r,a);if(i(a)||i(l))return l}return null}function findFile(r,e,t){var i=r?path.resolve(r,e):e;return detect(i,t)}function tryReaddirSync(r){try{return fs.readdirSync(r)}catch(r){}return[]}module.exports=function(r,e){e=e||{};var t=path.resolve(resolveDir(e.cwd||""));if("string"==typeof r)return lookup(t,[r],e);if(!Array.isArray(r))throw new TypeError("findup-sync expects a string or array as the first argument.");return lookup(t,r,e)};