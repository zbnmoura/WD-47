"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function Caseless(t){this.dict=t||{}}Caseless.prototype.set=function(t,e,o){if("object"!==(void 0===t?"undefined":_typeof(t))){void 0===o&&(o=!0);var r=this.has(t);return!o&&r?this.dict[r]=this.dict[r]+","+e:this.dict[r||t]=e,r}for(var s in t)this.set(s,t[s],e)},Caseless.prototype.has=function(t){for(var e=Object.keys(this.dict),o=(t=t.toLowerCase(),0);o<e.length;o++)if(e[o].toLowerCase()===t)return e[o];return!1},Caseless.prototype.get=function(t){var e,o;t=t.toLowerCase();var r=this.dict;return Object.keys(r).forEach(function(s){o=s.toLowerCase(),t===o&&(e=r[s])}),e},Caseless.prototype.swap=function(t){var e=this.has(t);if(e!==t){if(!e)throw new Error('There is no header than matches "'+t+'"');this.dict[t]=this.dict[e],delete this.dict[e]}},Caseless.prototype.del=function(t){var e=this.has(t);return delete this.dict[e||t]},module.exports=function(t){return new Caseless(t)},module.exports.httpify=function(t,e){var o=new Caseless(e);return t.setHeader=function(t,e,r){if(void 0!==e)return o.set(t,e,r)},t.hasHeader=function(t){return o.has(t)},t.getHeader=function(t){return o.get(t)},t.removeHeader=function(t){return o.del(t)},t.headers=o.dict,o};