"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};module.exports=function(t,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var e,n="boolean"==typeof r.cycles&&r.cycles,o=r.cmp&&(e=r.cmp,function(t){return function(r,n){var o={key:r,value:t[r]},i={key:n,value:t[n]};return e(o,i)}}),i=[];return function t(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!==(void 0===r?"undefined":_typeof(r)))return JSON.stringify(r);var e,u;if(Array.isArray(r)){for(u="[",e=0;e<r.length;e++)e&&(u+=","),u+=t(r[e])||"null";return u+"]"}if(null===r)return"null";if(-1!==i.indexOf(r)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=i.push(r)-1,y=Object.keys(r).sort(o&&o(r));for(u="",e=0;e<y.length;e++){var c=y[e],l=t(r[c]);l&&(u&&(u+=","),u+=JSON.stringify(c)+":"+l)}return i.splice(f,1),"{"+u+"}"}}(t)};