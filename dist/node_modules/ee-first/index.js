"use strict";function first(r,e){if(!Array.isArray(r))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var n=[],t=0;t<r.length;t++){var a=r[t];if(!Array.isArray(a)||a.length<2)throw new TypeError("each array member must be [ee, events...]");for(var o=a[0],f=1;f<a.length;f++){var i=a[f],s=listener(i,l);o.on(i,s),n.push({ee:o,event:i,fn:s})}}function l(){u(),e.apply(null,arguments)}function u(){for(var r,e=0;e<n.length;e++)(r=n[e]).ee.removeListener(r.event,r.fn)}function h(r){e=r}return h.cancel=u,h}function listener(r,e){return function(n){for(var t=new Array(arguments.length),a="error"===r?n:null,o=0;o<t.length;o++)t[o]=arguments[o];e(a,this,r,t)}}module.exports=first;