"use strict";var re,isExtglob=require("is-extglob"),cache={};function extglob(e,r){r=r||{};var t,n={},a=0,c=(e=(e=e.replace(/!\(([^\w*()])/g,"$1!(")).replace(/([*\/])\.!\([*]\)/g,function(e,r){return escape("/"===r?"\\/[^.]+":"[^.]+")}))+String(!!r.regex)+String(!!r.contains)+String(!!r.escape);if(cache.hasOwnProperty(c))return cache[c];for(re instanceof RegExp||(re=regex()),r.negate=!1;t=re.exec(e);){var i=t[1],o=t[3];"!"===i&&(r.negate=!0);var s="__EXTGLOB_"+a+++"__";n[s]=wrap(o,i,r.escape),e=e.split(t[0]).join(s)}for(var u=Object.keys(n),g=u.length;g--;){var p=u[g];e=e.split(p).join(n[p])}var l=r.regex?toRegex(e,r.contains,r.negate):e;return l=l.split(".").join("\\."),cache[c]=l}function wrap(e,r,t){switch(t&&(e=escape(e)),r){case"!":return"(?!"+e+")[^/]"+(t?"%%%~":"*?");case"@":return"(?:"+e+")";case"+":return"(?:"+e+")+";case"*":return"(?:"+e+")"+(t?"%%":"*");case"?":return"(?:"+e+"|)";default:return e}}function escape(e){return e=(e=e.split("*").join("[^/]%%%~")).split(".").join("\\.")}function regex(){return/(\\?[@?!+*$]\\?)(\(([^()]*?)\))/}function negate(e){return"(?!^"+e+").*$"}function toRegex(e,r,t){var n=r?"^":"";return e="(?:"+e+")"+(r?"$":""),t&&(e=n+negate(e)),new RegExp(n+e)}module.exports=extglob;