"use strict";var prefix,fs=require("fs"),path=require("path"),expand=require("expand-tilde"),homedir=require("homedir-polyfill"),ini=require("ini");function getPrefix(){if(process.env.PREFIX)prefix=process.env.PREFIX;else{var e=homedir();if(e){var r=path.resolve(e,".npmrc");prefix=tryConfigPath(r)}if(!prefix){var i=tryNpmPath();if(i){var p=path.resolve(i,"..","..","npmrc");if(prefix=tryConfigPath(p)){var t=path.resolve(prefix,"etc","npmrc");prefix=tryConfigPath(t)||prefix}}prefix||fallback()}}if(prefix)return expand(prefix)}function fallback(){require("is-windows")()?prefix=process.env.APPDATA?path.join(process.env.APPDATA,"npm"):path.dirname(process.execPath):(prefix=path.dirname(path.dirname(process.execPath)),process.env.DESTDIR&&(prefix=path.join(process.env.DESTDIR,prefix)))}function tryNpmPath(){try{return fs.realpathSync(require("which").sync("npm"))}catch(e){}return null}function tryConfigPath(e){try{var r=fs.readFileSync(e,"utf-8"),i=ini.parse(r);if(i.prefix)return i.prefix}catch(e){}return null}Object.defineProperty(module,"exports",{enumerable:!0,get:function(){return prefix||(prefix=getPrefix())}});