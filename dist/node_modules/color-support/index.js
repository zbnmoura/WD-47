"use strict";function hasNone(s,e){return s.level=0,s.hasBasic=!1,s.has256=!1,s.has16m=!1,!!e.alwaysReturn&&s}function hasBasic(s){return s.hasBasic=!0,s.has256=!1,s.has16m=!1,s.level=1,s}function has256(s){return s.hasBasic=!0,s.has256=!0,s.has16m=!1,s.level=2,s}function has16m(s){return s.hasBasic=!0,s.has256=!0,s.has16m=!0,s.level=3,s}function colorSupport(s,e){if(s=s||{},e=e||{},"number"==typeof s.level)switch(s.level){case 0:return hasNone(e,s);case 1:return hasBasic(e);case 2:return has256(e);case 3:return has16m(e)}if(e.level=0,e.hasBasic=!1,e.has256=!1,e.has16m=!1,!("undefined"!=typeof process&&process&&process.stdout&&process.env&&process.platform))return hasNone(e,s);var r=s.env||process.env,a=s.stream||process.stdout,t=s.term||r.TERM||"",n=s.platform||process.platform;if(!s.ignoreTTY&&!a.isTTY)return hasNone(e,s);if(!s.ignoreDumb&&"dumb"===t&&!r.COLORTERM)return hasNone(e,s);if("win32"===n)return hasBasic(e);if(r.TMUX)return has256(e);if(!s.ignoreCI&&(r.CI||r.TEAMCITY_VERSION))return r.TRAVIS?has256(e):hasNone(e,s);switch(r.TERM_PROGRAM){case"iTerm.app":var o=r.TERM_PROGRAM_VERSION||"0.";return/^[0-2]\./.test(o)?has256(e):has16m(e);case"HyperTerm":case"Hyper":case"MacTerm":return has16m(e);case"Apple_Terminal":return has256(e)}return/^xterm-256/.test(t)?has256(e):/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(t)?hasBasic(e):r.COLORTERM?hasBasic(e):hasNone(e,s)}module.exports=colorSupport({alwaysReturn:!0},colorSupport);