"use strict";var fs=require("fs"),path=require("path");function nocase(r){var e=tryReaddir(r=path.resolve(r));if(null===e)return null;if(e.path===r)return e.path;for(var t=r.toUpperCase(),a=e.files.length,n=-1;++n<a;){var s=path.resolve(e.path,e.files[n]);if(r===s||t===s)return s;var i=s.toUpperCase();if(r===i||t===i)return s}return null}function tryReaddir(r){var e={path:r,files:[]};try{return e.files=fs.readdirSync(r),e}catch(r){}try{return e.path=path.dirname(r),e.files=fs.readdirSync(e.path),e}catch(r){}return null}module.exports=function(r,e){return r&&"string"==typeof r?fs.existsSync(r)?path.resolve(r):!0===(e=e||{}).nocase?nocase(r):null:null};