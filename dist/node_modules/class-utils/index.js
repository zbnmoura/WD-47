"use strict";var util=require("util"),union=require("arr-union"),define=require("define-property"),staticExtend=require("static-extend"),isObj=require("isobject"),cu=module.exports;cu.isObject=function(e){return isObj(e)||"function"==typeof e},cu.has=function(e,r){var t=(r=cu.arrayify(r)).length;if(cu.isObject(e)){for(var c in e)if(r.indexOf(c)>-1)return!0;var n=cu.nativeKeys(e);return cu.has(n,r)}if(Array.isArray(e)){for(var i=e;t--;)if(i.indexOf(r[t])>-1)return!0;return!1}throw new TypeError("expected an array or object.")},cu.hasAll=function(e,r){for(var t=(r=cu.arrayify(r)).length;t--;)if(!cu.has(e,r[t]))return!1;return!0},cu.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]},cu.noop=function(){},cu.identity=function(e){return e},cu.hasConstructor=function(e){return cu.isObject(e)&&void 0!==e.constructor},cu.nativeKeys=function(e){if(!cu.hasConstructor(e))return[];var r=Object.getOwnPropertyNames(e);return"caller"in e&&r.push("caller"),r},cu.getDescriptor=function(e,r){if(!cu.isObject(e))throw new TypeError("expected an object.");if("string"!=typeof r)throw new TypeError("expected key to be a string.");return Object.getOwnPropertyDescriptor(e,r)},cu.copyDescriptor=function(e,r,t){if(!cu.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!cu.isObject(r))throw new TypeError("expected providing object to be an object.");if("string"!=typeof t)throw new TypeError("expected name to be a string.");var c=cu.getDescriptor(r,t);c&&Object.defineProperty(e,t,c)},cu.copy=function(e,r,t){if(!cu.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!cu.isObject(r))throw new TypeError("expected providing object to be an object.");var c,n=Object.getOwnPropertyNames(r),i=Object.keys(r),o=n.length;for(t=cu.arrayify(t);o--;)c=n[o],cu.has(i,c)?define(e,c,r[c]):c in e||cu.has(t,c)||cu.copyDescriptor(e,r,c)},cu.inherit=function(e,r,t){if(!cu.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!cu.isObject(r))throw new TypeError("expected providing object to be an object.");var c=[];for(var n in r)c.push(n),e[n]=r[n];c=c.concat(cu.arrayify(t));var i=r.prototype||r,o=e.prototype||e;cu.copy(o,i,c)},cu.extend=function(){return staticExtend.apply(null,arguments)},cu.bubble=function(e,r){r=r||[],e.bubble=function(t,c){Array.isArray(c)&&(r=union([],r,c));for(var n=r.length,i=-1;++i<n;){var o=r[i];e.on(o,t.emit.bind(t,o))}cu.bubble(t,r)}};