"use strict";var SetCache=require("./_SetCache"),arrayIncludes=require("./_arrayIncludes"),arrayIncludesWith=require("./_arrayIncludesWith"),arrayMap=require("./_arrayMap"),baseUnary=require("./_baseUnary"),cacheHas=require("./_cacheHas"),nativeMin=Math.min;function baseIntersection(a,e,r){for(var n=r?arrayIncludesWith:arrayIncludes,t=a[0].length,c=a.length,i=c,s=Array(c),u=1/0,h=[];i--;){var y=a[i];i&&e&&(y=arrayMap(y,baseUnary(e))),u=nativeMin(y.length,u),s[i]=!r&&(e||t>=120&&y.length>=120)?new SetCache(i&&y):void 0}y=a[0];var l=-1,o=s[0];a:for(;++l<t&&h.length<u;){var v=y[l],d=e?e(v):v;if(v=r||0!==v?v:0,!(o?cacheHas(o,d):n(h,d,r))){for(i=c;--i;){var I=s[i];if(!(I?cacheHas(I,d):n(a[i],d,r)))continue a}o&&o.push(d),h.push(v)}}return h}module.exports=baseIntersection;