"use strict";var stringWidth=require("string-width"),chalk=require("chalk"),widestLine=require("widest-line"),cliBoxes=require("cli-boxes"),camelCase=require("camelcase"),ansiAlign=require("ansi-align"),termSize=require("term-size"),getObject=function(r){return"number"==typeof r?{top:r,right:3*r,bottom:r,left:3*r}:Object.assign({top:0,right:0,bottom:0,left:0},r)},getBorderChars=function(r){var e=void 0;if("string"==typeof r){if(!(e=cliBoxes[r]))throw new TypeError("Invalid border style: "+r)}else["topLeft","topRight","bottomRight","bottomLeft","vertical","horizontal"].forEach(function(e){if(!r[e]||"string"!=typeof r[e])throw new TypeError("Invalid border style: "+e)}),e=r;return e},getBackgroundColorName=function(r){return camelCase("bg",r)};module.exports=function(r,e){if((e=Object.assign({padding:0,borderStyle:"single",dimBorder:!1,align:"left",float:"left"},e)).backgroundColor&&(e.backgroundColor=getBackgroundColorName(e.backgroundColor)),e.borderColor&&!chalk[e.borderColor])throw new Error(e.borderColor+" is not a valid borderColor");if(e.backgroundColor&&!chalk[e.backgroundColor])throw new Error(e.backgroundColor+" is not a valid backgroundColor");var o=getBorderChars(e.borderStyle),t=getObject(e.padding),i=getObject(e.margin),a=function(r){var o=e.borderColor?chalk[e.borderColor](r):r;return e.dimBorder?chalk.dim(o):o},l="\n",n=" ",c=(r=ansiAlign(r,{align:e.align})).split(l);t.top>0&&(c=Array(t.top).fill("").concat(c)),t.bottom>0&&(c=c.concat(Array(t.bottom).fill("")));var d=widestLine(r)+t.left+t.right,g=n.repeat(t.left),s=termSize().columns,b=n.repeat(i.left);if("center"===e.float){var u=Math.max((s-d)/2,0);b=n.repeat(u)}else if("right"===e.float){var f=Math.max(s-d-i.right-2,0);b=n.repeat(f)}var h=o.horizontal.repeat(d),m=a(l.repeat(i.top)+b+o.topLeft+h+o.topRight),p=a(b+o.bottomLeft+h+o.bottomRight+l.repeat(i.bottom)),C=a(o.vertical);return m+l+c.map(function(r){var o,i=n.repeat(d-stringWidth(r)-t.left);return b+C+(o=g+r+i,e.backgroundColor?chalk[e.backgroundColor](o):o)+C}).join(l)+l+p},module.exports._borderStyles=cliBoxes;