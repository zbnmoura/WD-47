"use strict";var isPlainObject=require("is-plain-object"),defaults=require("object.defaults/immutable");function forEachChild(t,e,i,r,c){var o=Object.keys(t);if("function"==typeof c.sort){var a=c.sort(o);Array.isArray(a)&&(o=a)}r+=1;for(var n=0,s=o.length;n<s;n++){var l=o[n],f=e+"."+l,u=t[l],b=defaults(c);b.name=l,b.index=n,b.count=s,b.depth=r,b.parent=t,!i(u,f.slice(1),b)&&isPlainObject(u)&&forEachChild(u,f,i,r,c)}}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}module.exports=function(t,e,i){isObject(t)&&"function"==typeof e&&(isPlainObject(i)||(i={}),forEachChild(t,"",e,0,i))};